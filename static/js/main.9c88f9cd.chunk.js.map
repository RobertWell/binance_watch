{"version":3,"sources":["hooks/useBinanceSocket.js","logo.svg","api/binanceApi.js","Composables/getAllSymbols.js","Composables/getAggTrades.js","Components/Home/QuerySymbol.jsx","Components/Home/TableHeadBar.jsx","Components/Home/AggTable.jsx","Components/Home/PartialBookDepthTable.jsx","Pages/Home.jsx","App.js","reportWebVitals.js","index.js"],"names":["oldSymbol","binance_route","binanceApi","getAllSymbols","a","axios","get","res","data","symbols","console","log","getAggTrades","symbol_name","fromId","params","symbol","toUpperCase","limit","socket_address","unsubscribe","ws","s","depth_level","id","toLowerCase","streamNames","map","streamName","msg","method","send","JSON","stringify","subscribe","updateAggTrades","new_trade","trades","setAggTrades","push","splice","bindWs","setPBD","onmessage","e","stockObj","parse","QuerySymbol","setSymbol","allSymbols","length","Autocomplete","value","options","getOptionLabel","option","onChange","event","newValue","renderInput","TextField","label","variant","useStyles","makeStyles","theme","toolbar","color","palette","primary","contrastText","backgroundColor","main","borderWidth","borderStyle","TableHeadBar","title","classes","Toolbar","className","Typography","component","table","AggTable","aggTrades","symbolObj","rows","reverse","Paper","TableContainer","Table","size","aria-label","TableHead","TableRow","TableCell","align","quoteAsset","baseAsset","TableBody","row","i","scope","format","Date","T","p","q","root","fontSize","borderRadius","width","firstCol","bids_first","background","asks_first","flex","tableCell","tableCell_bids","tableCell_asks","paper","PartialBookDepthTable","pbd","useMemo","bids","asks","sort","b","rowSpan","Home","defaultSymbol","useState","setWs","setSymbolObj","setAllSymbols","getInitialAggTrades","useEffect","WebSocket","onopen","then","all_symbols","changeSymbol","close","new_symbol_name","source","new_symbol","find","useBinanceSocket","Grid","container","spacing","item","xs","d","md","lg","justifyContent","CircularProgress","createTheme","breakpoints","values","sm","xl","text","light","dark","secondary","third","error","brand_icon","512","typography","fontFamily","join","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","spot_background","overrides","MuiTextField","borderColor","MuiAutocomplete","popupIndicator","popper","boxShadow","props","MuiIconButton","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c88f9cd.chunk.js","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { getAllSymbols, getAggTrades } from \"../Composables\";\r\n\r\nlet oldSymbol;\r\nlet socket_address = \"wss://stream.binance.com:9443/ws/etheur@trade\";\r\n\r\nconst unsubscribe = (ws, s, depth_level, id, ...streamNames) => {\r\n  let symbol_name = s.toLowerCase();\r\n  if (ws) {\r\n    let params = streamNames.map((streamName) => {\r\n      if (streamName === \"depth\")\r\n        return `${symbol_name}@${streamName}${depth_level}`;\r\n      else return `${symbol_name}@${streamName}`;\r\n    });\r\n\r\n    let msg = {\r\n      method: \"UNSUBSCRIBE\",\r\n      params,\r\n      id,\r\n    };\r\n\r\n    ws.send(JSON.stringify(msg));\r\n  }\r\n};\r\n\r\nconst subscribe = (ws, s, depth_level, id, ...streamNames) => {\r\n  let symbol_name = s.toLowerCase();\r\n  if (ws) {\r\n    let params = streamNames.map((streamName) => {\r\n      if (streamName === \"depth\")\r\n        return `${symbol_name}@${streamName}${depth_level}`;\r\n      else return `${symbol_name}@${streamName}`;\r\n    });\r\n    let msg = {\r\n      method: \"SUBSCRIBE\",\r\n      params,\r\n      id,\r\n    };\r\n    ws.send(JSON.stringify(msg));\r\n    // console.log(msg);\r\n  }\r\n};\r\nconst updateAggTrades = (new_trade, trades, setAggTrades) => {\r\n  // console.log(new_trade, trades);\r\n  trades.push(new_trade);\r\n  trades.splice(0, 1);\r\n  setAggTrades([...trades]);\r\n};\r\n\r\nconst bindWs = (ws, trades, setAggTrades, setPBD) => {\r\n  ws.onmessage = (e) => {\r\n    let stockObj = JSON.parse(e.data);\r\n    // console.log(stockObj);\r\n    if (stockObj.e === \"aggTrade\") {\r\n      updateAggTrades(stockObj, trades, setAggTrades);\r\n    } else if (\"asks\" in stockObj && \"bids\" in stockObj) {\r\n      setPBD({ ...stockObj });\r\n    }\r\n  };\r\n};\r\n\r\nfunction useBinanceSocket(defaultSymbol, id = 1, depth_level = 10) {\r\n  const [ws, setWs] = useState(null);\r\n  const [symbolObj, setSymbolObj] = useState({ symbol: defaultSymbol });\r\n  const [allSymbols, setAllSymbols] = useState([]);\r\n  const [aggTrades, setAggTrades] = useState([]);\r\n  const [pbd, setPBD] = useState({});\r\n\r\n  //   const loading = useMemo(() => {\r\n  //     return aggTrades.length && allSymbols.length;\r\n  //   }, [aggTrades, allSymbols]);\r\n\r\n  const getInitialAggTrades = () => {\r\n    return getAggTrades(symbolObj.symbol);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let ws = new WebSocket(socket_address);\r\n    ws.onopen = () =>\r\n      subscribe(ws, symbolObj.symbol, depth_level, id, \"aggTrade\", \"depth\");\r\n\r\n    setWs(ws);\r\n\r\n    getAllSymbols().then((all_symbols) => {\r\n      setAllSymbols(all_symbols);\r\n      changeSymbol(symbolObj.symbol, all_symbols);\r\n    });\r\n\r\n    getInitialAggTrades().then((trades) => {\r\n      setAggTrades(trades);\r\n      bindWs(ws, trades, setAggTrades, setPBD);\r\n    });\r\n\r\n    return () => {\r\n      ws.close();\r\n      setWs(null);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(async () => {\r\n    setAggTrades([]);\r\n    setPBD({});\r\n    if (ws) {\r\n      ws.onmessage = () => {};\r\n      if (oldSymbol)\r\n        unsubscribe(ws, oldSymbol.symbol, depth_level, id, \"aggTrade\", \"depth\");\r\n      subscribe(ws, symbolObj.symbol, depth_level, id, \"aggTrade\", \"depth\");\r\n      try {\r\n        let trades = await getInitialAggTrades();\r\n        setAggTrades(trades);\r\n        bindWs(ws, trades, setAggTrades, setPBD);\r\n      } catch (e) {\r\n        console.log(\"------error\", e);\r\n      }\r\n    }\r\n  }, [symbolObj.symbol]);\r\n\r\n  const changeSymbol = (new_symbol_name, source) => {\r\n    if (new_symbol_name) {\r\n      oldSymbol = symbolObj;\r\n      let new_symbol;\r\n      if (source) {\r\n        new_symbol = source.find(\r\n          (s) => s.symbol === new_symbol_name.toUpperCase()\r\n        );\r\n      } else\r\n        new_symbol = allSymbols.find(\r\n          (s) => s.symbol === new_symbol_name.toUpperCase()\r\n        );\r\n      //   console.log(\"F------new_symbol\", new_symbol, allSymbols);\r\n      if (new_symbol) setSymbolObj(new_symbol);\r\n    }\r\n  };\r\n\r\n  return {\r\n    symbolObj,\r\n    changeSymbol,\r\n    allSymbols,\r\n    // loading,\r\n    updateAggTrades,\r\n    aggTrades,\r\n    pbd,\r\n  };\r\n}\r\n\r\nexport { useBinanceSocket };\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import axios from \"axios\";\r\n\r\nconst binance_route = \"https://api.binance.com/api/v3\";\r\nconst binance_routes = [\r\n  \"https://api.binance.com/api/v3\",\r\n  \"https://api1.binance.com/api/v3\",\r\n  \"https://api2.binance.com/api/v3\",\r\n  \"https://api3.binance.com/api/v3\",\r\n];\r\n\r\nexport const binanceApi = {\r\n  exchangeInfo: () => `${binance_route}/exchangeInfo`,\r\n  aggTrades: () => `${binance_route}/aggTrades`,\r\n  depth:()=>`${binance_route}/depth`,\r\n};\r\n","import { binanceApi } from \"../api/binanceApi\";\r\nimport axios from \"axios\";\r\n\r\nconst getAllSymbols = async () => {\r\n  try {\r\n    const res = await axios.get(binanceApi.exchangeInfo());\r\n    // let temp = [];\r\n    // for (let s of res.data.symbols) {\r\n    // //   if (s.isMarginTradingAllowed) temp.push(s.symbol);\r\n    //   temp.push(s.symbol);\r\n    // }\r\n    // // console.log(res.data.symbols);\r\n    \r\n    return res.data.symbols;\r\n  } catch (e) {\r\n    console.log(\"------error\", e);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport { getAllSymbols };\r\n","import axios from \"axios\";\r\nimport { binanceApi } from \"../api/binanceApi\";\r\nexport const getAggTrades = async (symbol_name, fromId) => {\r\n  try {\r\n    let params = {\r\n      symbol: symbol_name.toUpperCase(),\r\n      limit: 50,\r\n    };\r\n    if (fromId) params.fromId = fromId;\r\n    const res = await axios.get(binanceApi.aggTrades(), { params });\r\n    return res.data;\r\n  } catch (e) {\r\n    console.log(\"-----error\", e);\r\n    return [];\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { Autocomplete } from \"@material-ui/lab\";\r\nfunction QuerySymbol({ symbol, setSymbol, allSymbols }) {\r\n  \r\n  return (\r\n    <div>\r\n      {allSymbols && allSymbols.length && (\r\n        <Autocomplete\r\n          id=\"combo-box\"\r\n          value={symbol}\r\n          options={allSymbols}\r\n          getOptionLabel={(option) => option}\r\n        //   style={{ width: 300 }}\r\n          onChange={(event, newValue) => setSymbol(newValue)}\r\n          renderInput={(params) => (\r\n            <TextField {...params} label=\"Symbol Name\" variant=\"outlined\" />\r\n          )}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuerySymbol;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles(theme=>({\r\n\r\n  toolbar:{\r\n    color: theme.palette.primary.contrastText,\r\n    backgroundColor: theme.palette.primary.main,\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n  }\r\n}));\r\n\r\nfunction TableHeadBar({title}) {\r\n  const classes = useStyles();\r\n  return (\r\n    <Toolbar className={classes.toolbar}>\r\n      <Typography\r\n        className={classes.title}\r\n        variant=\"h6\"\r\n        id=\"tableTitle\"\r\n        component=\"div\"\r\n      >\r\n        {title}\r\n      </Typography>\r\n    </Toolbar>\r\n  );\r\n}\r\n\r\nexport default TableHeadBar","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport TableHeadBar from \"./TableHeadBar\";\r\nimport { format } from \"date-fns\";\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    //   minWidth: 650,\r\n  },\r\n});\r\n\r\nfunction AggTable({ aggTrades, symbolObj }) {\r\n  const classes = useStyles();\r\n  let rows = [...aggTrades].reverse();\r\n\r\n  return (\r\n    <Paper>\r\n      <TableHeadBar title={\"Aggregate Trade\"} />\r\n      <TableContainer component={Paper}>\r\n        <Table\r\n          size=\"small\"\r\n          className={classes.table}\r\n          aria-label=\"AggTrades table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              {/* <TableCell>Index</TableCell> */}\r\n              <TableCell>Time</TableCell>\r\n              <TableCell align=\"right\">\r\n                Price&nbsp;({symbolObj.quoteAsset})\r\n              </TableCell>\r\n\r\n              <TableCell align=\"right\">\r\n                Amount&nbsp;({symbolObj.baseAsset})\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.map((row, i) => (\r\n              <TableRow key={row.a}>\r\n                {/* <TableCell component=\"th\" scope=\"row\">\r\n                {i + 1}\r\n              </TableCell> */}\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {format(new Date(row.T), \"HH:mm:ss\")}\r\n                </TableCell>\r\n\r\n                <TableCell align=\"right\">{row.p}</TableCell>\r\n                <TableCell align=\"right\">{row.q}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default AggTable;\r\n","import React, { useMemo } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport TableHeadBar from \"./TableHeadBar\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    fontSize: \"200pt\",\r\n    // backgroundColor:'red',\r\n    borderRadius: 0,\r\n    // borderColor: \"#000\",\r\n    width:'auto', //100%會有些微突出\r\n    borderWidth: \"1px 1px 0 1px\",\r\n    borderStyle: \"solid\",\r\n    // boxShadow:'none'\r\n  },\r\n  table: {\r\n    fontSize: \"200pt\",\r\n  },\r\n  firstCol: {\r\n    width: \"50px\",\r\n  },\r\n  bids_first: {\r\n    background: \"#08bdb4\",\r\n    width: \"50px\",\r\n  },\r\n  asks_first: {\r\n    background: \"#f0246b\",\r\n    width: \"50px\",\r\n  },\r\n  title: {\r\n    flex: \"1 1 100%\",\r\n  },\r\n  tableCell: {\r\n    fontSize: \"0.5rem\",\r\n  },\r\n  tableCell_bids:{\r\n    color:\"#08bdb4\",\r\n  },\r\n  tableCell_asks:{\r\n    color:\"#f0246b\",\r\n  },\r\n  paper:{\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n  }\r\n}));\r\n\r\nfunction PartialBookDepthTable({ pbd, symbolObj }) {\r\n  const { bids, asks } = useMemo(() => {\r\n    if (!pbd || !pbd.bids) return { bids: [], asks: [] };\r\n    let { bids, asks } = pbd;\r\n    bids.sort((a, b) => b[0] - a[0]);\r\n    asks.sort((a, b) => b[0] - a[0]);\r\n    return { bids, asks };\r\n  }, [pbd]);\r\n  const classes = useStyles();\r\n  if (!pbd || !pbd.bids) return <></>;\r\n  // console.log(bids);\r\n  return (\r\n    <>\r\n      <TableHeadBar title={\"Partial Book Depth\"} />\r\n      <TableContainer component={Paper} className={classes.root}>\r\n        <Table\r\n          size=\"small\"\r\n          className={classes.table}\r\n          aria-label=\"AggTrades table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              {/* <TableCell>Index</TableCell> */}\r\n              {/* <TableCell align=\"right\">Time</TableCell> */}\r\n\r\n              <TableCell align=\"center\">Quotation</TableCell>\r\n              <TableCell align=\"right\">\r\n                Price&nbsp;({symbolObj.quoteAsset})\r\n              </TableCell>\r\n\r\n              <TableCell align=\"right\">\r\n                Amount&nbsp;({symbolObj.baseAsset})\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n          <TableRow>\r\n              <TableCell\r\n                component=\"th\"\r\n                scope=\"row\"\r\n                className={classes.asks_first}\r\n                rowSpan={asks.length + 1}\r\n                align=\"center\"\r\n              >\r\n                Asks\r\n              </TableCell>\r\n            </TableRow>\r\n            {asks.map((row, i) => (\r\n              <TableRow key={`asks_${i}`}>\r\n                <TableCell align=\"right\" className={`${classes.tableCell} ${classes.tableCell_asks}`}>\r\n                  {row[0]}\r\n                </TableCell>\r\n                <TableCell align=\"right\" className={classes.tableCell}>{row[1]}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n            <TableRow>\r\n              <TableCell\r\n                component=\"th\"\r\n                scope=\"row\"\r\n                className={classes.bids_first}\r\n                rowSpan={bids.length + 1}\r\n                align=\"center\"\r\n              >\r\n                Bids\r\n              </TableCell>\r\n            </TableRow>\r\n            {bids.map((row, i) => (\r\n              <TableRow key={`bids_${i}`}>\r\n                <TableCell align=\"right\" className={`${classes.tableCell} ${classes.tableCell_bids}`}>{row[0]}</TableCell>\r\n                <TableCell align=\"right\" className={classes.tableCell}>{row[1]}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n           \r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PartialBookDepthTable;\r\n","import React from \"react\";\r\nimport { useBinanceSocket } from \"../hooks/useBinanceSocket\";\r\nimport QuerySymbol from \"../Components/Home/QuerySymbol\";\r\nimport AggTable from \"../Components/Home/AggTable\";\r\nimport PartialBookDepthTable from \"../Components/Home/PartialBookDepthTable\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { Grid } from \"@material-ui/core\";\r\nfunction Home() {\r\n  const { symbolObj, changeSymbol, allSymbols, aggTrades, pbd } =\r\n    useBinanceSocket(\"ETHBTC\", 2);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Binance Watch</h2>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <QuerySymbol\r\n            symbol={symbolObj.symbol}\r\n            setSymbol={changeSymbol}\r\n            allSymbols={allSymbols.map((d) => d.symbol.toUpperCase())}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={6} lg={4}>\r\n          {pbd && pbd.asks ? (\r\n            <PartialBookDepthTable pbd={pbd} symbolObj={symbolObj} />\r\n          ) : (\r\n            <Grid container justifyContent=\"center\">\r\n              <Grid item  >\r\n                <CircularProgress color=\"secondary\" />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <p># Some Products have slow depth response.</p>\r\n                <p># Please be patient or try something else!</p>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n        <Grid item xs={12} md={6} lg={8}>\r\n          <AggTable aggTrades={aggTrades} symbolObj={symbolObj} />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport Home from \"./Pages/Home\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\n\nconst theme = createTheme({\n  breakpoints: {\n    values: {\n      xs: 0,\n      sm: 432,\n      md: 960,\n      lg: 1280,\n      xl: 1920,\n    },\n  },\n  palette: {\n    text: \"#ffffff\",\n    background: \"rgb(22, 26, 30)\",\n    primary: {\n      light: \"#5e92f3\",\n      main: \"#1565c0\",\n      dark: \"#003c8f\",\n      contrastText: \"#ffffff\",\n    },\n    secondary: {\n      light: \"#82e9de\",\n      main: \"#4db6ac\",\n      dark: \"#00867d\",\n      contrastText: \"#ffffff\",\n    },\n\n    third: {\n      light: \"#ffffff\",\n      main: \"#e0e0e0\",\n      dark: \"#aeaeae\",\n      contrastText: \"#303030\",\n    },\n    error: {\n      light: \"#e57373\",\n      main: \"#f44336\",\n      dark: \"#d32f2f\",\n      contrastText: \"#fff\",\n    },\n  },\n  brand_icon: {\n    512: \"assets/burn-512.png\",\n  },\n\n  typography: {\n    fontFamily: [\n      \"Noto Sans TC\",\n      \"Roboto\",\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(\",\"),\n    fontWeightLight: 400,\n    fontWeightRegular: 500,\n    fontWeightMedium: 600,\n    fontWeightBold: 700,\n    // htmlFontSize: 10,\n  },\n  spot_background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n\n  overrides: {\n    // MuiAppBar: {\n    //   root: {\n    //     // transform:'translateZ(0)',\n    //   },\n    // },\n    MuiTextField: {\n      root: {\n        color: \"yellow\",\n        // boxShadow:'white',\n        // background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n        \"& fieldset\": {\n          borderColor: \"white\",\n          \n        },        \n      },\n    },\n    MuiAutocomplete: {\n      root: {\n        // boxShadow: \"0 1px 6px 1px white\",\n      },\n      popupIndicator: {\n        // background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n        background: \"white\",\n        \"&:hover\": {\n          background: \"white\",\n        },\n      },\n\n      popper: {\n        background: \"rgb(22, 26, 30)\",\n        boxShadow: \"0 1px 6px 2px white\",\n      },\n    },\n  },\n  props: {\n    MuiIconButton: {\n      // disableRipple:\n    },\n  },\n});\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <Home />\n      </ThemeProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}